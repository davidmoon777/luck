<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ì˜¨ë¼ì¸ ì¹´ì§€ë…¸ ì™„ì „íŒ</title>
<style>
body { background: #111; color:white; font-family:Arial,sans-serif; margin:0; padding:20px; text-align:center; }
.center { margin-top:150px; }
input { padding:10px; width:80%; font-size:16px; margin-bottom:10px; }
button { padding:10px 20px; font-size:16px; cursor:pointer; margin:5px; border-radius:6px; border:none; background:#ff5733; color:white; }
.hidden { display:none; }
header { position:absolute; top:10px; left:10px; font-size:14px; }
#user-info span, #user-info button { display:inline-block; margin-right:10px; }
#menu { margin-top:20px; }
#game-area { margin-top:20px; padding:20px; background:#222; border-radius:10px; min-height:400px; }
.popup { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); }
.popup-box { background:#222; padding:20px; width:320px; margin:150px auto; border-radius:10px; }
.news-feed { position:fixed; bottom:10px; left:0; width:100%; height:40px; overflow:hidden; white-space:nowrap; font-weight:bold; }
.news-feed span { display:inline-block; margin-right:50px; animation:scroll 15s linear infinite; }
@keyframes scroll { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }
#admin-button { position:fixed; top:10px; right:10px; padding:5px 10px; font-size:12px; background:#444; }
</style>
</head>
<body>

<!-- íšŒì›ê°€ì… í™”ë©´ -->
<div id="signup-screen" class="center">
    <h1>íšŒì›ê°€ì…</h1>
    <input id="username-input" type="text" placeholder="ì•„ì´ë”” ì…ë ¥">
    <input id="password-input" type="password" placeholder="ë¹„ë°€ë²ˆí˜¸ ì…ë ¥">
    <button onclick="registerUser()">íšŒì›ê°€ì…</button>
</div>

<!-- ì´ë²¤íŠ¸ íŒì—… -->
<div id="event-popup" class="popup hidden">
    <div class="popup-box">
        <h2>ğŸ‰ ì‹ ê·œ ê°€ì… ë³´ë„ˆìŠ¤!</h2>
        <p>ì‹ ê·œ ê°€ì… ë³´ë„ˆìŠ¤ë¡œ <b>10,000,000ì›</b> ì§€ê¸‰ë©ë‹ˆë‹¤!</p>
        <button onclick="closePopup()">í™•ì¸</button>
    </div>
</div>

<!-- ë©”ì¸ ê²Œì„ í™”ë©´ -->
<div id="game-screen" class="hidden">
    <header>
        <div id="user-info">
            <span id="display-username"></span>
            <span id="display-money"></span>
        </div>
    </header>
    <button id="admin-button" onclick="showAdminLogin()">ê´€ë¦¬ì</button>

    <h1>ğŸ° ì˜¨ë¼ì¸ ì¹´ì§€ë…¸ ğŸ°</h1>
    <div id="menu">
        <button onclick="showGame('slot')">ìŠ¬ë¡¯ ë¨¸ì‹ </button>
        <button onclick="showGame('matgo')">ë§ê³ </button>
        <button onclick="showGame('seotda')">ì„¯ë‹¤</button>
        <button onclick="showGame('blackjack')">ë¸”ë™ì­</button>
        <button onclick="showGame('holjak')">í™€ì§</button>
    </div>

    <div id="game-area"></div>
    <div id="news-feed" class="news-feed"></div>
</div>

<script>
/* ---------------------- ê³µí†µ ---------------------- */
let money=0, username="";
let adminMode={
    active:false,
    password:"admin123",
    slotMultiplier:10,
    blackjackMultiplier:2,
    oddEvenWinRate:0.5,
    matgoMultiplier:1,
    stats:{} // ê²Œì„ë³„ ìŠ¹ë¥  ë° ë¡œê·¸
};

function rand(min,max){ return Math.floor(Math.random()*(max-min+1)+min); }
function sum(arr){ return arr.reduce((a,b)=>a+b,0); }
function randomColor(){ return `hsl(${rand(0,360)},80%,60%)`; }

/* ---------------------- íšŒì›ê°€ì… / ì´ë²¤íŠ¸ ---------------------- */
function registerUser(){
    username=document.getElementById("username-input").value.trim();
    let password=document.getElementById("password-input").value.trim();
    if(!username||!password) return alert("ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ ì…ë ¥í•˜ì„¸ìš”");
    localStorage.setItem("username", username);
    localStorage.setItem("password", password);
    money=10000000;
    updateMoneyDisplay();
    document.getElementById("signup-screen").classList.add("hidden");
    document.getElementById("event-popup").classList.remove("hidden");
}
function closePopup(){
    document.getElementById("event-popup").classList.add("hidden");
    showGameScreen();
}

/* ---------------------- ê²Œì„ í™”ë©´ ---------------------- */
function showGameScreen(){
    document.getElementById("game-screen").classList.remove("hidden");
    document.getElementById("display-username").innerText="ê³„ì •: "+username;
    updateMoneyDisplay();
    startNewsFeed();
}
function updateMoneyDisplay(){
    document.getElementById("display-money").innerText="ë³´ìœ  ê¸ˆì•¡: "+money.toLocaleString()+"ì›";
}

/* ---------------------- ë‰´ìŠ¤í”¼ë“œ ---------------------- */
const newsMessages=["ë‹˜ì´ ì­íŒŸ ë‹¹ì²¨!","ë‹˜ì´ ì¶œê¸ˆ ì™„ë£Œ!","ë‹˜ì´ ë¸”ë™ì­ ìŠ¹ë¦¬!","ë‹˜ì´ ìŠ¬ë¡¯ ì­íŒŸ!"];
const nicknames=["í–‰ìš´ì´","ì¹´ì§€ë…¸ì™•","ë¦¬ì¹˜ë§¨","ìŠ¬ë¡¯ë§ˆìŠ¤í„°","ë¸”ë™ì­í‚¹","ë¨¸ë‹ˆí—Œí„°"];
function startNewsFeed(){
    const feed=document.getElementById("news-feed");
    setInterval(()=>{
        let nick=nicknames[rand(0,nicknames.length-1)];
        let msg=newsMessages[rand(0,newsMessages.length-1)];
        if(msg.includes("ì›")) msg=msg.replace(/\d{1,3}(,\d{3})*/,""+rand(10000000,100000000).toLocaleString());
        let span=document.createElement("span");
        span.innerText=nick+msg;
        span.style.color=randomColor();
        feed.appendChild(span);
        if(feed.children.length>10) feed.removeChild(feed.firstChild);
    },3000);
}

/* ---------------------- ê²Œì„ ì„ íƒ ---------------------- */
function showGame(name){
    if(name==="slot") slotGame();
    if(name==="blackjack") blackjackUI();
    if(name==="holjak") holjakGame();
    if(name==="matgo") matgoGame();
    if(name==="seotda") seotdaGame();
}

/* ---------------------- í†µê³„ ê¸°ë¡ ---------------------- */
function logResult(game,win){ 
    if(!adminMode.stats[game]) adminMode.stats[game]={play:0,win:0,log:[]};
    adminMode.stats[game].play++;
    adminMode.stats[game].win+=win;
    adminMode.stats[game].log.push({time:new Date().toLocaleString(), win});
}

/* ---------------------- ìŠ¬ë¡¯ ---------------------- */
function slotGame(){
    const area=document.getElementById("game-area");
    area.innerHTML=`
        <h2>ğŸ° ìŠ¬ë¡¯ ë¨¸ì‹ </h2>
        <p>ë°°íŒ… ê¸ˆì•¡ ì…ë ¥:</p>
        <input id="slot-bet" placeholder="ë°°íŒ… ê¸ˆì•¡">
        <button onclick="spinSlot()">ìŠ¤í•€!</button>
        <div id="slot-result"></div>
        <button onclick="showGameScreen()">ë’¤ë¡œ</button>
    `;
}
function spinSlot(){
    let bet=parseInt(document.getElementById("slot-bet").value);
    if(!bet||bet>money) return alert("ì˜¬ë°”ë¥¸ ê¸ˆì•¡ ì…ë ¥");
    money-=bet;
    const a=rand(1,9),b=rand(1,9),c=rand(1,9);
    let winnings=0,msg="";
    if(a===b&&b===c){ winnings=bet*adminMode.slotMultiplier; msg="ì­íŒŸ!"; }
    else if(a===b||b===c||a===c){ winnings=Math.floor(bet*1.5); msg="ë‘ê°œ ì¼ì¹˜!"; }
    else msg="ê½!";
    money+=winnings; updateMoneyDisplay();
    logResult("slot",winnings>0?1:0);
    document.getElementById("slot-result").innerText=`ê²°ê³¼: | ${a} | ${b} | ${c} | ${msg} ${winnings>0?winnings+"ì› íšë“":""}`;
}

/* ---------------------- ë¸”ë™ì­ ---------------------- */
let bjPlayer=[], bjDealer=[], bjDeck=[], bjBet=0;
function blackjackUI(){
    const area=document.getElementById("game-area");
    area.innerHTML=`
        <h2>â™  ë¸”ë™ì­</h2>
        <p>ë°°íŒ… ê¸ˆì•¡ ì…ë ¥:</p>
        <input id="bj-bet" placeholder="ë°°íŒ… ê¸ˆì•¡">
        <button onclick="startBlackjack()">ê²Œì„ ì‹œì‘</button>
        <div id="bj-area"></div>
        <button onclick="showGameScreen()">ë’¤ë¡œ</button>
    `;
}
function startBlackjack(){
    bjBet=parseInt(document.getElementById("bj-bet").value);
    if(!bjBet||bjBet>money) return alert("ì˜¬ë°”ë¥¸ ë°°íŒ…ê¸ˆì•¡");
    money-=bjBet; updateMoneyDisplay();
    bjDeck=[2,3,4,5,6,7,8,9,10,10,10,10,11].flatMap(n=>[n,n,n,n]);
    bjPlayer=[drawCard(),drawCard()]; bjDealer=[drawCard(),drawCard()];
    showBlackjack();
}
function drawCard(){ let idx=rand(0,bjDeck.length-1); return bjDeck.splice(idx,1)[0]; }
function showBlackjack(){
    const area=document.getElementById("bj-area");
    area.innerHTML=`
        <p>í”Œë ˆì´ì–´: ${bjPlayer.join(", ")} (í•©: ${sum(bjPlayer)})</p>
        <p>ë”œëŸ¬: ${bjDealer[0]}, ?</p>
        <button onclick="hit()">íˆíŠ¸</button>
        <button onclick="stand()">ìŠ¤íƒ ë“œ</button>
    `;
}
function hit(){
    bjPlayer.push(drawCard());
    for(let i=0;i<bjPlayer.length;i++) if(bjPlayer[i]===11 && sum(bjPlayer)>21) bjPlayer[i]=1;
    if(sum(bjPlayer)>21){ alert("ë²„ìŠ¤íŠ¸! íŒ¨ë°°"); logResult("blackjack",0); resetBlackjack(); return; }
    showBlackjack();
}
function stand(){
    while(sum(bjDealer)<17){ bjDealer.push(drawCard()); for(let i=0;i<bjDealer.length;i++) if(bjDealer[i]===11&&sum(bjDealer)>21) bjDealer[i]=1; }
    let playerTotal=sum(bjPlayer), dealerTotal=sum(bjDealer), msg="", win=0;
    if(dealerTotal>21||playerTotal>dealerTotal){ money+=bjBet*adminMode.blackjackMultiplier; msg=`ìŠ¹ë¦¬! ${bjBet*adminMode.blackjackMultiplier}ì› íšë“`; win=1; }
    else if(playerTotal===dealerTotal){ money+=bjBet; msg="ë¬´ìŠ¹ë¶€!"; win=0.5; }
    else msg="íŒ¨ë°°!"; logResult("blackjack",win);
    updateMoneyDisplay(); alert(`ë”œëŸ¬: ${bjDealer.join(", ")}\nê²°ê³¼: ${msg}`);
    resetBlackjack();
}
function resetBlackjack(){ bjPlayer=[]; bjDealer=[]; bjDeck=[]; bjBet=0; showGameScreen(); }

/* ---------------------- í™€ì§ ---------------------- */
function holjakGame(){
    const area=document.getElementById("game-area");
    area.innerHTML=`
        <h2>í™€ì§ ê²Œì„</h2>
        <p>ë°°íŒ… ê¸ˆì•¡:</p>
        <input id="holjak-bet" placeholder="ê¸ˆì•¡ ì…ë ¥">
        <p>í™€/ì§ ì„ íƒ:</p>
        <button onclick="playHoljak('í™€')">í™€</button>
        <button onclick="playHoljak('ì§')">ì§</button>
        <div id="holjak-result"></div>
        <button onclick="showGameScreen()">ë’¤ë¡œ</button>
    `;
}
function playHoljak(choice){
    let bet=parseInt(document.getElementById("holjak-bet").value);
    if(!bet||bet>money) return alert("ì˜¬ë°”ë¥¸ ê¸ˆì•¡ ì…ë ¥");
    money-=bet;
    let num=rand(1,10);
    let result=num%2===0?"ì§":"í™€";
    let win=0;
    if(choice===result){ let winnings=Math.floor(bet*adminMode.oddEvenWinRate*2); money+=winnings; win=1; document.getElementById("holjak-result").innerText=`ê²°ê³¼: ${result} ìŠ¹ë¦¬! ${winnings}ì› íšë“`; }
    else document.getElementById("holjak-result").innerText=`ê²°ê³¼: ${result} íŒ¨ë°°!`;
    updateMoneyDisplay(); logResult("holjak",win);
}

/* ---------------------- ê´€ë¦¬ì ---------------------- */
function showAdminLogin(){
    const area=document.getElementById("game-area");
    area.innerHTML=`
        <h3>ê´€ë¦¬ì ë¡œê·¸ì¸</h3>
        <input id="admin-pass" placeholder="ë¹„ë°€ë²ˆí˜¸" type="password">
        <button onclick="adminLogin()">ë¡œê·¸ì¸</button>
    `;
}
function adminLogin(){
    let pass=document.getElementById("admin-pass").value;
    if(pass===adminMode.password){ adminMode.active=true; showAdminPanel(); }
    else alert("ë¹„ë°€ë²ˆí˜¸ í‹€ë¦¼");
}
function showAdminPanel(){
    const area=document.getElementById("game-area");
    let statsText="";
    for(let g in adminMode.stats){
        let s=adminMode.stats[g];
        statsText+=`${g}: í”Œë ˆì´ ${s.play}, ìŠ¹ë¦¬ ${s.win}, ë¡œê·¸ ${s.log.length}\n`;
    }
    area.innerHTML=`
        <h3>ê´€ë¦¬ì ëª¨ë“œ</h3>
        <p>ë³´ìœ  ê¸ˆì•¡ ìˆ˜ì •: <input id="admin-money"><button onclick="setMoney()">ì ìš©</button></p>
        <p>ê²Œì„ ë°°ìœ¨:</p>
        ìŠ¬ë¡¯: <input id="slot-mult" placeholder="ë°°ìœ¨"><br>
        ë¸”ë™ì­: <input id="bj-mult" placeholder="ë°°ìœ¨"><br>
        í™€ì§ ìŠ¹ë¥ : <input id="oddEven-rate" placeholder="0~1"><br>
        ë§ê³  ë°°ìœ¨: <input id="matgo-mult" placeholder="ë°°ìœ¨"><br>
        <button onclick="applyGameSettings()">ì ìš©</button>
        <button onclick="exitAdmin()">ë‹«ê¸°</button>
        <pre>${statsText}</pre>
    `;
}
function setMoney(){ let m=parseInt(document.getElementById("admin-money").value); if(!isNaN(m)) money=m; updateMoneyDisplay(); }
function applyGameSettings(){
    let s=parseFloat(document.getElementById("slot-mult").value);
    let b=parseFloat(document.getElementById("bj-mult").value);
    let o=parseFloat(document.getElementById("oddEven-rate").value);
    let m=parseFloat(document.getElementById("matgo-mult").value);
    if(!isNaN(s)) adminMode.slotMultiplier=s;
    if(!isNaN(b)) adminMode.blackjackMultiplier=b;
    if(!isNaN(o)) adminMode.oddEvenWinRate=o;
    if(!isNaN(m)) adminMode.matgoMultiplier=m;
}
function exitAdmin(){ adminMode.active=false; alert("ê´€ë¦¬ì ëª¨ë“œ ì¢…ë£Œ"); showGameScreen(); }

/* ---------------------- ë§ê³ , ì„¯ë‹¤ (ì„¯ë‹¤ ì¡±ë³´ ê¸°ë°˜ ë‹¨ìˆœí™”) ---------------------- */
function matgoGame(){ document.getElementById("game-area").innerHTML="<h2>ë§ê³  ê²Œì„ (ì¶”ê°€ êµ¬í˜„ í•„ìš”)</h2>"; }
function seotdaGame(){ document.getElementById("game-area").innerHTML="<h2>ì„¯ë‹¤ ê²Œì„ (ì¡±ë³´ ê¸°ë°˜ ë‹¨ìˆœí™”)</h2>"; }

</script>
</body>
</html>
