<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ì˜¨ë¼ì¸ ì¹´ì§€ë…¸</title>
<style>
body { background:#111; color:white; font-family:Arial,sans-serif; margin:0; padding:20px; text-align:center;}
.center{margin-top:150px;}
input{padding:15px; width:80%; font-size:18px; margin-bottom:10px;}
button{padding:10px 20px; font-size:16px; margin:5px; border-radius:6px; border:none; cursor:pointer; background:#ff5733; color:white;}
.hidden{display:none;}
header{position:absolute; top:10px; left:10px;}
#user-info span,#user-info button{display:inline-block; margin-right:10px;}
#game-area{margin-top:60px; padding:20px; background:#222; border-radius:10px; min-height:400px;}
#admin-btn{position:fixed; top:10px; right:10px; padding:8px 15px; font-size:14px;}
.news-feed{position:fixed; bottom:10px; left:0; width:100%; height:40px; overflow:hidden; white-space:nowrap; font-weight:bold;}
.news-feed span{display:inline-block; margin-right:50px; animation:scroll 15s linear infinite;}
@keyframes scroll{0%{transform:translateX(100%);}100%{transform:translateX(-100%);}}
@media screen and (max-width:600px){body{padding:10px;}#menu button{display:block;width:90%; margin:10px auto;}}
</style>
</head>
<body>

<!-- íšŒì›ê°€ì… í™”ë©´ -->
<div id="signup-screen" class="center">
<h1>íšŒì›ê°€ì…</h1>
<input id="username-input" placeholder="ì•„ì´ë”” ì…ë ¥">
<input id="password-input" type="password" placeholder="ë¹„ë°€ë²ˆí˜¸ ì…ë ¥">
<button onclick="registerUser()">íšŒì›ê°€ì…</button>
</div>

<!-- ì´ë²¤íŠ¸ íŒì—… -->
<div id="event-popup" class="popup hidden">
<div class="popup-box" style="background:#222; padding:20px; width:300px; margin:200px auto; border-radius:10px;">
<h2>ğŸ‰ ì‹ ê·œ ê°€ì… ë³´ë„ˆìŠ¤!</h2>
<p>ì‹ ê·œ ê°€ì… ë³´ë„ˆìŠ¤ë¡œ <b>10,000,000ì›</b> ì§€ê¸‰ë©ë‹ˆë‹¤!</p>
<button onclick="closePopup()">í™•ì¸</button>
</div>
</div>

<!-- ë©”ì¸ ê²Œì„ í™”ë©´ -->
<div id="game-screen" class="hidden">
<header>
<div id="user-info">
<span id="display-username"></span>
<span id="display-money"></span>
</div>
</header>

<button id="admin-btn" onclick="showAdminLogin()">ê´€ë¦¬ìëª¨ë“œ</button>

<h1>ğŸ° ì˜¨ë¼ì¸ ì¹´ì§€ë…¸ ğŸ°</h1>
<div id="menu">
<button onclick="showGame('slot')">ìŠ¬ë¡¯ ë¨¸ì‹ </button>
<button onclick="showGame('seotda')">ì„¯ë‹¤</button>
<button onclick="showGame('blackjack')">ë¸”ë™ì­</button>
</div>
<div id="game-area"></div>
<div id="news-feed" class="news-feed"></div>
</div>

<script>
/* ---------------------- ìœ ì € ë° ê´€ë¦¬ì ---------------------- */
let username="", money=0;
let adminMode={active:false,password:"dobak",slotMultiplier:10,blackjackMultiplier:2,seotdaMultiplier:1.7,stats:{}};

/* ---------------------- íšŒì›ê°€ì… ---------------------- */
function registerUser(){
    username=document.getElementById("username-input").value.trim();
    let password=document.getElementById("password-input").value.trim();
    if(!username||!password) return alert("ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
    localStorage.setItem("username",username);
    localStorage.setItem("password",password);
    money=10000000; localStorage.setItem("money",money);
    document.getElementById("signup-screen").classList.add("hidden");
    document.getElementById("event-popup").classList.remove("hidden");
}
function closePopup(){
    document.getElementById("event-popup").classList.add("hidden");
    showGameScreen();
}

/* ---------------------- ê²Œì„ í™”ë©´ ---------------------- */
function showGameScreen(){
    document.getElementById("game-screen").classList.remove("hidden");
    document.getElementById("display-username").innerText="ê³„ì •: "+username;
    updateMoneyDisplay();
    startNewsFeed();
}
function updateMoneyDisplay(){ document.getElementById("display-money").innerText="ë³´ìœ  ê¸ˆì•¡: "+money.toLocaleString()+"ì›"; }

function showGame(name){
    if(name==="slot") slotGame();
    if(name==="blackjack") blackjackUI();
    if(name==="seotda") seotdaGame();
}

/* ============================== ìŠ¬ë¡¯ ============================== */
function slotGame(){
    const area=document.getElementById("game-area");
    area.innerHTML=`<h2>ğŸ° ìŠ¬ë¡¯ ë¨¸ì‹ </h2>
<p>ë°°íŒ… ê¸ˆì•¡ ì…ë ¥:</p>
<input id="slot-bet" placeholder="ë°°íŒ… ê¸ˆì•¡">
<button onclick="spinSlot()">ìŠ¤í•€!</button>
<div id="slot-result"></div>
<button onclick="showGameScreen()">ë’¤ë¡œ</button>`;
}
function spinSlot(){
    let bet=parseInt(document.getElementById("slot-bet").value);
    if(!bet||bet>money) return alert("ê¸ˆì•¡ í™•ì¸");
    money-=bet;
    const a=rand(1,9),b=rand(1,9),c=rand(1,9);
    let winnings=0,msg="";
    if(a===b&&b===c){ winnings=bet*adminMode.slotMultiplier; msg="ì­íŒŸ!";}
    else if(a===b||b===c||a===c){ winnings=Math.floor(bet*1.5); msg="ë‘ê°œ ì¼ì¹˜!";}
    else msg="ê½!";
    money+=winnings; updateMoneyDisplay();
    logResult("slot",winnings>0?1:0);
    document.getElementById("slot-result").innerText=`ê²°ê³¼: | ${a} | ${b} | ${c} | ${msg} ${winnings>0?winnings+"ì› íšë“":""}`;
}

/* ============================== ë¸”ë™ì­ ============================== */
let bjPlayer=[],bjDealer=[],bjDeck=[],bjBet=0;
function blackjackUI(){
    const area=document.getElementById("game-area");
    area.innerHTML=`<h2>â™  ë¸”ë™ì­</h2>
<p>ë°°íŒ… ê¸ˆì•¡ ì…ë ¥:</p>
<input id="bj-bet" placeholder="ë°°íŒ… ê¸ˆì•¡">
<button onclick="startBlackjack()">ê²Œì„ ì‹œì‘</button>
<div id="bj-area"></div>
<button onclick="showGameScreen()">ë’¤ë¡œ</button>`;
}
function startBlackjack(){
    bjBet=parseInt(document.getElementById("bj-bet").value);
    if(!bjBet||bjBet>money) return alert("ê¸ˆì•¡ í™•ì¸");
    money-=bjBet; updateMoneyDisplay();
    bjDeck=[2,3,4,5,6,7,8,9,10,10,10,10,11].flatMap(n=>[n,n,n,n]);
    bjPlayer=[drawCard(),drawCard()]; bjDealer=[drawCard(),drawCard()];
    showBlackjack();
}
function drawCard(){ let idx=rand(0,bjDeck.length-1); return bjDeck.splice(idx,1)[0]; }
function showBlackjack(){
    const area=document.getElementById("bj-area");
    area.innerHTML=`<p>í”Œë ˆì´ì–´: ${bjPlayer.join(", ")} (í•©: ${sum(bjPlayer)})</p>
<p>ë”œëŸ¬: ${bjDealer[0]}, ?</p>
<button onclick="hit()">íˆíŠ¸</button>
<button onclick="stand()">ìŠ¤íƒ ë“œ</button>`;
}
function hit(){
    bjPlayer.push(drawCard());
    for(let i=0;i<bjPlayer.length;i++) if(bjPlayer[i]===11 && sum(bjPlayer)>21) bjPlayer[i]=1;
    if(sum(bjPlayer)>21){ alert("ë²„ìŠ¤íŠ¸! íŒ¨ë°°"); resetBlackjack(); return; }
    showBlackjack();
}
function stand(){
    while(sum(bjDealer)<17){ bjDealer.push(drawCard()); for(let i=0;i<bjDealer.length;i++) if(bjDealer[i]===11 && sum(bjDealer)>21) bjDealer[i]=1; }
    let playerTotal=sum(bjPlayer), dealerTotal=sum(bjDealer); let msg=""; let win=0;
    if(dealerTotal>21||playerTotal>dealerTotal){ money+=bjBet*adminMode.blackjackMultiplier; msg=`ìŠ¹ë¦¬! ${bjBet*adminMode.blackjackMultiplier}ì› íšë“`; win=1; }
    else if(playerTotal===dealerTotal){ money+=bjBet; msg="ë¬´ìŠ¹ë¶€!"; win=0.5; }
    else msg="íŒ¨ë°°!";
    updateMoneyDisplay(); alert(`ë”œëŸ¬: ${bjDealer.join(", ")}\nê²°ê³¼: ${msg}`);
    resetBlackjack();
}
function resetBlackjack(){ bjPlayer=[]; bjDealer=[]; bjDeck=[]; bjBet=0; showGameScreen(); }
function sum(arr){ return arr.reduce((a,b)=>a+b,0); }

/* ============================== ì„¯ë‹¤ ============================== */
let seotdaDeck=[], playerHand=[], dealerHand=[], seotdaBet=0;
function seotdaGame(){
    const area=document.getElementById("game-area");
    area.innerHTML=`<h2>ì„¯ë‹¤</h2>
<p>ë°°íŒ… ê¸ˆì•¡ ì…ë ¥:</p>
<input id="seotda-bet" placeholder="ê¸ˆì•¡">
<button onclick="startSeotda()">ê²Œì„ ì‹œì‘</button>
<div id="seotda-area"></div>`;
}
function startSeotda(){
    seotdaBet=parseInt(document.getElementById("seotda-bet").value);
    if(!seotdaBet||seotdaBet>money) return alert("ê¸ˆì•¡ í™•ì¸");
    money-=seotdaBet; updateMoneyDisplay();
    seotdaDeck=["1ì›” ê´‘","3ì›” ê´‘","8ì›” ê´‘","1ì›”","2ì›”","3ì›”","4ì›”","5ì›”","6ì›”","7ì›”","8ì›”","9ì›”","10ì›”","4ì›”","6ì›”","7ì›”","9ì›”","10ì›”","1ì›”","2ì›”"];
    shuffleDeck(); playerHand=[drawSeotda(),drawSeotda()]; dealerHand=[drawSeotda(),drawSeotda()];
    showSeotdaHands();
}
function shuffleDeck(){ seotdaDeck.sort(()=>Math.random()-0.5); }
function drawSeotda(){ return seotdaDeck.shift(); }
function showSeotdaHands(){
    const area=document.getElementById("seotda-area");
    area.innerHTML=`<p>ë‚´ íŒ¨: ${playerHand.join(", ")}</p>
<p>ë”œëŸ¬ íŒ¨: ${dealerHand.map((c,i)=>i<2?"??":c).join(", ")}</p>
<button onclick="seotdaCall()">ì½œ</button>
<button onclick="seotdaStop()">ìŠ¤í†±</button>`;
}
function seotdaCall(){ playerHand.push(drawSeotda()); dealerHand.push(drawSeotda()); showSeotdaHands(); setTimeout(finalSeotda,500); }
function seotdaStop(){ alert("ìŠ¤í†±! ë°°íŒ…ê¸ˆ ìƒìŒ"); showGameScreen(); }
function finalSeotda(){
    let pScore=getSeotdaScore(playerHand), dScore=getSeotdaScore(dealerHand); let msg=""; 
    if(pScore>dScore){ money+=Math.floor(seotdaBet*adminMode.seotdaMultiplier); msg="ìŠ¹ë¦¬!";}
    else if(pScore===dScore){ money+=seotdaBet; msg="ë¬´ìŠ¹ë¶€";}
    else msg="íŒ¨ë°°!";
    alert(`ë‚´ íŒ¨: ${playerHand.join(", ")}\në”œëŸ¬ íŒ¨: ${dealerHand.join(", ")}\n${msg}`);
    updateMoneyDisplay(); showGameScreen();
}
function getSeotdaScore(hand){
    if(hand.includes("1ì›” ê´‘")&&hand.includes("3ì›” ê´‘")) return 100;
    else if(hand.some(c=>c.includes("ê´‘"))) return 50;
    else return hand.reduce((a,c)=>{let m=parseInt(c);return a+m%10;},0);
}

/* ============================== ê´€ë¦¬ì ============================== */
function showAdminLogin(){
    const area=document.getElementById("game-area");
    area.innerHTML=`<h3>ê´€ë¦¬ì ë¡œê·¸ì¸</h3>
<input id="admin-pass" type="password" placeholder="ë¹„ë°€ë²ˆí˜¸">
<button onclick="adminLogin()">ë¡œê·¸ì¸</button>`;
}
function adminLogin(){
    let pass=document.getElementById("admin-pass").value;
    if(pass===adminMode.password){ adminMode.active=true; showAdminPanel(); }
    else alert("ë¹„ë°€ë²ˆí˜¸ í‹€ë¦¼");
}
function showAdminPanel(){
    const area=document.getElementById("game-area");
    area.innerHTML=`<h3>ê´€ë¦¬ì ëª¨ë“œ</h3>
<p>ì„¯ë‹¤ ë°°ìœ¨: <input id="seotda-mult" placeholder="ë°°ìœ¨"></p>
<button onclick="applyAdminSettings()">ì ìš©</button>
<button onclick="exitAdmin()">ë‹«ê¸°</button>`;
}
function applyAdminSettings(){
    let m=parseFloat(document.getElementById("seotda-mult").value);
    if(!isNaN(m)) adminMode.seotdaMultiplier=m;
}
function exitAdmin(){ adminMode.active=false; showGameScreen(); }

/* ============================== ë‰´ìŠ¤í”¼ë“œ ============================== */
const newsMessages=["ë‹˜ì´ ì­íŒŸ ë‹¹ì²¨!","ë‹˜ì´ ë¸”ë™ì­ ìŠ¹ë¦¬!","ë‹˜ì´ ìŠ¬ë¡¯ ì­íŒŸ!","ë‹˜ì´ í™€ì§ ìŠ¹ë¦¬!","ë‹˜ì´ ì„¯ë‹¤ ìŠ¹ë¦¬!"];
const nicknames=["í–‰ìš´ì´","ì¹´ì§€ë…¸ì™•","ë¦¬ì¹˜ë§¨","ìŠ¬ë¡¯ë§ˆìŠ¤í„°","ë¸”ë™ì­í‚¹","ë¨¸ë‹ˆí—Œí„°","ë¬¸íƒ±ì´","í°ê±°ì¸","ë‚´ê¿ˆì€ì¶•êµ¬ì™•","ì•¼ë¥´ë„¹","ê´´ìˆ˜ëƒ¥ì´1í˜¸","ê¸´ê¸‰ê³µì§€","ìµœí›„í†µì²©","ì–‘ì§€1ì§±"];
function rand(min,max){return Math.floor(Math.random()*(max-min+1)+min);}
function randomColor(){return `hsl(${rand(0,360)},80%,60%)`;}
function startNewsFeed(){
    const feed=document.getElementById("news-feed");
    setInterval(()=>{
        let nick=nicknames[rand(0,nicknames.length-1)];
        let msg=newsMessages[rand(0,newsMessages.length-1)];
        let span=document.createElement("span");
        span.innerText=nick+msg;
        span.style.color=randomColor();
        feed.appendChild(span);
        if(feed.children.length>10) feed.removeChild(feed.firstChild);
    },3000);
}

/* ============================== í†µê³„ ============================== */
function logResult(game,win){
    if(!adminMode.stats[game]) adminMode.stats[game]={play:0,win:0};
    adminMode.stats[game].play++;
    adminMode.stats[game].win+=win;
}
</script>
</body>
</html>
