<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ì˜¨ë¼ì¸ ì¹´ì§€ë…¸</title>
<style>
body { background:#111; color:white; font-family:Arial,sans-serif; margin:0; padding:20px; text-align:center;}
.center{margin-top:150px;}
input{padding:15px;width:80%;font-size:18px;margin-bottom:10px;}
button{padding:10px 15px;font-size:16px;cursor:pointer;margin:5px;border-radius:6px;border:none;background:#ff5733;color:white;}
.hidden{display:none;}
header{position:absolute;top:10px;left:10px;font-size:16px;}
#user-info span,#user-info button{display:inline-block;margin-right:10px;}
#menu{margin-top:20px;}
#game-area{margin-top:20px;padding:20px;background:#222;border-radius:10px;min-height:400px;}
.popup{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);}
.popup-box{background:#222;padding:20px;width:300px;margin:200px auto;border-radius:10px;}
.news-feed{position:fixed;bottom:10px;left:0;width:100%;height:40px;overflow:hidden;white-space:nowrap;font-weight:bold;}
.news-feed span{display:inline-block;margin-right:50px;animation:scroll 15s linear infinite;}
@keyframes scroll{0%{transform:translateX(100%);}100%{transform:translateX(-100%);}}
@media screen and (max-width:600px){
    body{padding:10px;}
    #menu button{display:block;width:90%;margin:10px auto;}
    #admin-btn{position:fixed;top:10px;right:10px;padding:8px 12px;font-size:14px;}
}
</style>
</head>
<body>

<!-- íšŒì›ê°€ì… -->
<div id="signup-screen" class="center">
<h1>íšŒì›ê°€ì…</h1>
<input id="username-input" type="text" placeholder="ì•„ì´ë”” ì…ë ¥">
<input id="password-input" type="password" placeholder="ë¹„ë°€ë²ˆí˜¸ ì…ë ¥">
<button onclick="registerUser()">íšŒì›ê°€ì…</button>
</div>

<!-- ì‹ ê·œê°€ì… ì´ë²¤íŠ¸ -->
<div id="event-popup" class="popup hidden">
<div class="popup-box">
<h2>ğŸ‰ ì‹ ê·œ ê°€ì… ë³´ë„ˆìŠ¤!</h2>
<p>ì‹ ê·œ ê°€ì… ë³´ë„ˆìŠ¤ë¡œ <b>10,000,000ì›</b> ì§€ê¸‰ë©ë‹ˆë‹¤!</p>
<button onclick="closePopup()">í™•ì¸</button>
</div>
</div>

<!-- ë©”ì¸ í™”ë©´ -->
<div id="game-screen" class="hidden">
<header>
<div id="user-info">
<span id="display-username"></span>
<span id="display-money"></span>
</div>
<button id="admin-btn" onclick="showAdminLogin()">ê´€ë¦¬ìëª¨ë“œ</button>
</header>

<h1>ğŸ° ì˜¨ë¼ì¸ ì¹´ì§€ë…¸ ğŸ°</h1>
<div id="menu">
<button onclick="showGame('slot')">ìŠ¬ë¡¯</button>
<button onclick="showGame('blackjack')">ë¸”ë™ì­</button>
<button onclick="showGame('holjak')">í™€ì§</button>
<button onclick="showGame('seotda')">ì„¯ë‹¤</button>
</div>
<div id="game-area"></div>
<div id="news-feed" class="news-feed"></div>
</div>

<script>
/* ----------------- ìœ ì €/ê´€ë¦¬ì ----------------- */
let money=0, username="";
let adminMode={active:false,password:"dobak",slotMultiplier:10,blackjackMultiplier:2,oddEvenWinRate:0.5,matgoMultiplier:1,stats:{}};

/* ----------------- íšŒì›ê°€ì… ----------------- */
function registerUser(){
    username=document.getElementById("username-input").value.trim();
    let password=document.getElementById("password-input").value.trim();
    if(!username||!password){alert("ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.");return;}
    localStorage.setItem("username",username);
    localStorage.setItem("password",password);
    money=10000000;localStorage.setItem("money",money);
    document.getElementById("signup-screen").classList.add("hidden");
    document.getElementById("event-popup").classList.remove("hidden");
}
function closePopup(){document.getElementById("event-popup").classList.add("hidden");showGameScreen();}

/* ----------------- í™”ë©´ ----------------- */
function showGameScreen(){
    document.getElementById("game-screen").classList.remove("hidden");
    document.getElementById("display-username").innerText="ê³„ì •: "+username;
    updateMoneyDisplay();
    startNewsFeed();
}
function updateMoneyDisplay(){document.getElementById("display-money").innerText="ë³´ìœ  ê¸ˆì•¡: "+money.toLocaleString()+"ì›";}
function showGame(name){
    if(name==="slot") slotGame();
    if(name==="blackjack") blackjackUI();
    if(name==="holjak") holjakGame();
    if(name==="seotda") seotdaGame();
}

/* ----------------- ìŠ¬ë¡¯ ----------------- */
function slotGame(){
    const area=document.getElementById("game-area");
    area.innerHTML=`<h2>ğŸ° ìŠ¬ë¡¯</h2>
    <p>ë°°íŒ…ê¸ˆ:</p><input id="slot-bet" placeholder="ë°°íŒ… ê¸ˆì•¡">
    <button onclick="spinSlot()">ìŠ¤í•€!</button><div id="slot-result"></div>
    <button onclick="showGameScreen()">ë’¤ë¡œ</button>`;
}
function spinSlot(){
    let bet=parseInt(document.getElementById("slot-bet").value);
    if(!bet||bet>money) return alert("ì˜¬ë°”ë¥¸ ê¸ˆì•¡");
    money-=bet;
    const a=rand(1,9),b=rand(1,9),c=rand(1,9);
    let win=0,msg="";
    if(a===b&&b===c){win=1; msg="ì­íŒŸ!"; money+=bet*adminMode.slotMultiplier;}
    else if(a===b||b===c||a===c){win=0.5; msg="ë‘ê°œ ì¼ì¹˜!"; money+=Math.floor(bet*1.5);}
    else msg="ê½!";
    updateMoneyDisplay(); logResult("slot",win);
    document.getElementById("slot-result").innerText=`ê²°ê³¼: | ${a} | ${b} | ${c} | ${msg}`;
}

/* ----------------- ë¸”ë™ì­ ----------------- */
let bjPlayer=[],bjDealer=[],bjDeck=[],bjBet=0;
function blackjackUI(){
    const area=document.getElementById("game-area");
    area.innerHTML=`<h2>â™  ë¸”ë™ì­</h2>
    <p>ë°°íŒ…ê¸ˆ:</p><input id="bj-bet" placeholder="ë°°íŒ… ê¸ˆì•¡">
    <button onclick="startBlackjack()">ê²Œì„ ì‹œì‘</button><div id="bj-area"></div>
    <button onclick="showGameScreen()">ë’¤ë¡œ</button>`;
}
function startBlackjack(){
    bjBet=parseInt(document.getElementById("bj-bet").value);
    if(!bjBet||bjBet>money) return alert("ë°°íŒ…ê¸ˆ í™•ì¸");
    money-=bjBet; updateMoneyDisplay();
    bjDeck=[2,3,4,5,6,7,8,9,10,10,10,10,11].flatMap(n=>[n,n,n,n]);
    bjPlayer=[drawCard(),drawCard()]; bjDealer=[drawCard(),drawCard()];
    showBlackjack();
}
function drawCard(){let idx=rand(0,bjDeck.length-1); return bjDeck.splice(idx,1)[0];}
function showBlackjack(){
    const area=document.getElementById("bj-area");
    area.innerHTML=`<p>í”Œë ˆì´ì–´: ${bjPlayer.join(", ")} (í•©:${sum(bjPlayer)})</p>
    <p>ë”œëŸ¬: ${bjDealer[0]}, ?</p>
    <button onclick="hit()">íˆíŠ¸</button>
    <button onclick="stand()">ìŠ¤íƒ ë“œ</button>`;
}
function hit(){bjPlayer.push(drawCard()); for(let i=0;i<bjPlayer.length;i++) if(bjPlayer[i]===11 && sum(bjPlayer)>21) bjPlayer[i]=1;
if(sum(bjPlayer)>21){alert("ë²„ìŠ¤íŠ¸! íŒ¨ë°°"); resetBlackjack(); return;} showBlackjack();}
function stand(){
    while(sum(bjDealer)<17){bjDealer.push(drawCard()); for(let i=0;i<bjDealer.length;i++) if(bjDealer[i]===11 && sum(bjDealer)>21) bjDealer[i]=1;}
    let playerTotal=sum(bjPlayer),dealerTotal=sum(bjDealer),win=0,msg="";
    if(dealerTotal>21||playerTotal>dealerTotal){money+=bjBet*adminMode.blackjackMultiplier; win=1; msg=`ìŠ¹ë¦¬! ${bjBet*adminMode.blackjackMultiplier}ì› íšë“`;}
    else if(playerTotal===dealerTotal){money+=bjBet; win=0.5; msg="ë¬´ìŠ¹ë¶€";}
    else msg="íŒ¨ë°°!";
    updateMoneyDisplay(); alert(`ë”œëŸ¬:${bjDealer.join(", ")}\nê²°ê³¼:${msg}`);
    logResult("blackjack",win); resetBlackjack();
}
function resetBlackjack(){bjPlayer=[];bjDealer=[];bjDeck=[];bjBet=0; showGameScreen();}
function sum(arr){return arr.reduce((a,b)=>a+b,0);}

/* ----------------- í™€ì§ ----------------- */
function holjakGame(){const area=document.getElementById("game-area");
area.innerHTML=`<h2>í™€ì§</h2><p>ë°°íŒ…ê¸ˆ:</p><input id="he-bet" placeholder="ë°°íŒ…"><br>
<button onclick="playHoljak('í™€')">í™€</button>
<button onclick="playHoljak('ì§')">ì§</button>
<button onclick="showGameScreen()">ë’¤ë¡œ</button>`;}
function playHoljak(choice){let bet=parseInt(document.getElementById("he-bet").value);
if(!bet||bet>money) return alert("ê¸ˆì•¡ í™•ì¸");
let dice=rand(1,6)+rand(1,6); let win=0;
if((dice%2===0 && choice==='ì§')||(dice%2===1 && choice==='í™€')){win=1; money+=bet*2*adminMode.oddEvenWinRate; alert("ìŠ¹ë¦¬!");}
else{money-=bet; alert("íŒ¨ë°°");}updateMoneyDisplay(); logResult("holjak",win);}

/* ----------------- ì„¯ë‹¤ ----------------- */
const seotdaDeck=["1ì›” ê´‘","2ì›”","3ì›” ê´‘","4ì›”","5ì›”","6ì›”","7ì›”","8ì›”","9ì›”","10ì›”","11ì›”","12ì›”"];
function seotdaGame(){
    const area=document.getElementById("game-area"); 
    area.innerHTML=`<h2>ì„¯ë‹¤</h2><p>ë°°íŒ…ê¸ˆ:</p><input id="sd-bet" placeholder="ë°°íŒ…"><br><button onclick="startSeotda()">ê²Œì„ ì‹œì‘</button>
    <div id="sd-area"></div><button onclick="showGameScreen()">ë’¤ë¡œ</button>`;}
function startSeotda(){
    let bet=parseInt(document.getElementById("sd-bet").value); if(!bet||bet>money){alert("ê¸ˆì•¡ í™•ì¸"); return;}
    money-=bet; updateMoneyDisplay(); let deck=seotdaDeck.slice();
    let player=[drawSeotda(deck),drawSeotda(deck)]; let dealer=[drawSeotda(deck),drawSeotda(deck)];
    document.getElementById("sd-area").innerText=`í”Œë ˆì´ì–´: ${player.join(", ")}\në”œëŸ¬: ${dealer.join(", ")}\nì½œ ë˜ëŠ” ìŠ¤í†± ì„ íƒí•˜ì„¸ìš”.`;
    let callStopBtn=document.createElement("div");
    callStopBtn.innerHTML=`<button onclick="seotdaCallStop('${player}','${dealer}',${bet},true)">ì½œ</button>
    <button onclick="seotdaCallStop('${player}','${dealer}',${bet},false)">ìŠ¤í†±</button>`;
    document.getElementById("sd-area").appendChild(callStopBtn);
}
function drawSeotda(deck){let idx=rand(0,deck.length-1); return deck.splice(idx,1)[0];}
function seotdaCallStop(player,dealer,bet,isCall){let msg=""; let finalPlayer=player.split(","),finalDealer=dealer.split(",");
if(isCall){money+=Math.floor(bet*0.7); msg="ì½œ! ë°°íŒ…ê¸ˆ 70% ì¦ê°€";}
else{msg="ìŠ¤í†±! íŒëˆ ìƒìŒ";}
alert(msg); showGameScreen();}

/* ----------------- ê´€ë¦¬ì ----------------- */
function showAdminLogin(){
    const area=document.getElementById("game-area");
    area.innerHTML=`<h3>ê´€ë¦¬ì ë¡œê·¸ì¸</h3>
    <input id="admin-pass" placeholder="ë¹„ë°€ë²ˆí˜¸" type="password">
    <button onclick="adminLogin()">ë¡œê·¸ì¸</button>`;}
function adminLogin(){
    let pass=document.getElementById("admin-pass").value;
    if(pass===adminMode.password){adminMode.active=true; showAdminPanel();}else alert("ë¹„ë°€ë²ˆí˜¸ í‹€ë¦¼");}
function showAdminPanel(){
    const area=document.getElementById("game-area");
    area.innerHTML=`<h3>ê´€ë¦¬ìëª¨ë“œ</h3>
    <p>ë³´ìœ ê¸ˆ ìˆ˜ì •: <input id="admin-money" placeholder="ê¸ˆì•¡"><button onclick="setMoney()">ì ìš©</button></p>
    <p>ê²Œì„ë°°ìœ¨: ìŠ¬ë¡¯ <input id="slot-mult" placeholder="ë°°ìœ¨"> ë¸”ë™ì­ <input id="bj-mult" placeholder="ë°°ìœ¨"> í™€ì§ ìŠ¹ë¥  <input id="oddEven-rate" placeholder="0~1"> <button onclick="applyGameSettings()">ì ìš©</button></p>
    <button onclick="exitAdmin()">ë‹«ê¸°</button>`;}
function setMoney(){let m=parseInt(document.getElementById("admin-money").value);if(!isNaN(m)) money=m; updateMoneyDisplay();}
function applyGameSettings(){let s=parseFloat(document.getElementById("slot-mult").value);
let b=parseFloat(document.getElementById("bj-mult").value);
let o=parseFloat(document.getElementById("oddEven-rate").value);
if(!isNaN(s)) adminMode.slotMultiplier=s;
if(!isNaN(b)) adminMode.blackjackMultiplier=b;
if(!isNaN(o)&&o>=0&&o<=1) adminMode.oddEvenWinRate=o;}
function exitAdmin(){adminMode.active=false; alert("ê´€ë¦¬ìëª¨ë“œ ì¢…ë£Œ"); showGameScreen();}

/* ----------------- ë‰´ìŠ¤ ----------------- */
const newsMessages=["ë‹˜ì´ ì­íŒŸ!","ë‹˜ì´ ì¶œê¸ˆ!","ë‹˜ì´ ë¸”ë™ì­ ìŠ¹ë¦¬!","ë‹˜ì´ ìŠ¬ë¡¯ ì­íŒŸ!"];
const nicknames=["í–‰ìš´ì´","ì¹´ì§€ë…¸ì™•","ë¦¬ì¹˜ë§¨","ìŠ¬ë¡¯ë§ˆìŠ¤í„°"];
function startNewsFeed(){
    const feed=document.getElementById("news-feed");
    setInterval(()=>{
        let nick=nicknames[rand(0,nicknames.length-1)];
        let msg=newsMessages[rand(0,newsMessages.length-1)];
        let span=document.createElement("span"); span.innerText=nick+msg; span.style.color=`hsl(${rand(0,360)},80%,60%)`;
        feed.appendChild(span); if(feed.children.length>10) feed.removeChild(feed.firstChild);
    },3000);
}

/* ----------------- ìœ í‹¸ ----------------- */
function rand(min,max){return Math.floor(Math.random()*(max-min+1)+min);}
function logResult(game,win){if(!adminMode.stats[game]) adminMode.stats[game]={play:0,win:0}; adminMode.stats[game].play++; adminMode.stats[game].win+=win;}
</script>
</body>
</html>
